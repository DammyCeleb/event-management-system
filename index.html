<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EventHub - Where Memorable Experiences Begin</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="home.css">
    <script src="config.js"></script>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="#" class="logo">
                <span>⚡</span>
                <span>EventHub</span>
            </a>
            
            <button class="mobile-menu-toggle" onclick="toggleMobileMenu()" id="mobileMenuToggle">
                <span></span>
                <span></span>
                <span></span>
            </button>
            
            <div class="nav-links" id="navLinks">
                <a href="#events" class="nav-link">Browse Events</a>
                <button class="theme-toggle" onclick="toggleTheme()" title="Toggle theme">◐</button>
                <a href="login.html" class="btn btn-outline">Login</a>
                <a href="login.html" class="btn btn-primary">Sign Up</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-container">
            <h1 class="hero-title">Where Memorable Experiences Begin</h1>
            <p class="hero-subtitle">Curating connections through extraordinary events that inspire, engage, and transform communities</p>
            <div class="hero-actions">
                <a href="#events" class="btn btn-primary btn-large">Explore Events</a>
                <a href="login.html" class="btn btn-outline btn-large">Begin Your Journey</a>
            </div>
        </div>
    </section>

    <!-- How It Works -->
    <section class="how-it-works">
        <div class="container">
            <h2 class="section-title">Your Journey Begins Here</h2>
            <p class="section-subtitle">Three simple steps to transform how you experience events</p>
            <div class="steps-grid">
                <div class="step-card">
                    <div class="step-number">01</div>
                    <div class="step-icon">✦</div>
                    <h3>Discover Your Path</h3>
                    <p>Choose your role as an event enthusiast or creator, and join a community that values meaningful experiences</p>
                </div>
                <div class="step-card">
                    <div class="step-number">02</div>
                    <div class="step-icon">✧</div>
                    <h3>Explore & Create</h3>
                    <p>Immerse yourself in curated events or craft your own extraordinary experiences that resonate with your vision</p>
                </div>
                <div class="step-card">
                    <div class="step-number">03</div>
                    <div class="step-icon">✩</div>
                    <h3>Connect & Flourish</h3>
                    <p>Build lasting relationships and create memories that transcend the ordinary through thoughtfully designed events</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Featured Events -->
    <section class="featured-events" id="events">
        <div class="container">
            <h2 class="section-title">Curated Experiences</h2>
            <p class="section-subtitle">Handpicked events that promise to inspire and delight</p>
            <div class="events-grid" id="eventsGrid">
                <!-- Events will be loaded here -->
            </div>
            <div class="text-center">
                <a href="login.html" class="btn btn-primary">View All Events</a>
            </div>
        </div>
    </section>

    <!-- Why Choose Us -->
    <section class="why-choose-us">
        <div class="container">
            <h2 class="section-title">The EventHub Difference</h2>
            <p class="section-subtitle">Elevating event experiences through thoughtful design and genuine care</p>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">✦</div>
                    <h3>Intuitive Elegance</h3>
                    <p>Experience the perfect harmony of sophisticated design and effortless functionality, crafted for those who appreciate both beauty and purpose</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">✧</div>
                    <h3>Seamless Connections</h3>
                    <p>Foster meaningful relationships through our intelligent matching system that brings together like-minded individuals and communities</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">✩</div>
                    <h3>Trust & Transparency</h3>
                    <p>Built on a foundation of integrity, ensuring your privacy and security while maintaining the highest standards of reliability</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="logo">
                        <span>⚡</span>
                        <span>EventHub</span>
                    </div>
                    <p>Cultivating meaningful connections through extraordinary experiences</p>
                </div>
                <div class="footer-section">
                    <h4>Company</h4>
                    <a href="#">About</a>
                    <a href="#">Contact</a>
                    <a href="#">Careers</a>
                </div>
                <div class="footer-section">
                    <h4>Legal</h4>
                    <a href="#">Terms</a>
                    <a href="#">Privacy</a>
                    <a href="#">Cookies</a>
                </div>
                <div class="footer-section">
                    <h4>Connect</h4>
                    <a href="#">Twitter</a>
                    <a href="#">LinkedIn</a>
                    <a href="#">Facebook</a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 EventHub. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Check if user is logged in and redirect accordingly
        document.addEventListener('DOMContentLoaded', () => {
            const user = JSON.parse(localStorage.getItem('user'));
            if (user) {
                // Redirect based on role
                if (user.role === 'admin') {
                    window.location.href = '/admin.html';
                } else if (user.role === 'organizer') {
                    window.location.href = '/organizer.html';
                } else {
                    window.location.href = '/attendee.html';
                }
                return;
            }
            
            // Load featured events for public view
            loadFeaturedEvents();
        });

        async function loadFeaturedEvents() {
            try {
                const response = await fetch(`${window.CONFIG.API_BASE_URL}/api/events/featured`);
                if (response.ok) {
                    const events = await response.json();
                    renderEvents(events.slice(0, 6)); // Show only 6 featured events
                }
            } catch (error) {
                console.error('Error loading events:', error);
                // Show sample events if API fails
                renderSampleEvents();
            }
        }

        function renderEvents(events) {
            const grid = document.getElementById('eventsGrid');
            if (events.length === 0) {
                renderSampleEvents();
                return;
            }
            
            grid.innerHTML = events.map(event => `
                <div class="event-card">
                    <div class="event-image">▣</div>
                    <div class="event-content">
                        <h3 class="event-title">${event.title}</h3>
                        <div class="event-meta">
                            <div class="event-meta-item">▷ ${new Date(event.date).toLocaleDateString()}</div>
                            <div class="event-meta-item">◉ ${event.location}</div>
                            <div class="event-meta-item">◈ ${event.organizerId?.name || 'EventHub'}</div>
                        </div>
                        <a href="login.html" class="btn btn-primary">View Details</a>
                    </div>
                </div>
            `).join('');
        }

        function renderSampleEvents() {
            const sampleEvents = [
                { title: 'Tech Conference 2024', date: '2024-12-15', location: 'Lagos', organizer: 'TechHub' },
                { title: 'Music Festival', date: '2024-12-20', location: 'Abuja', organizer: 'MusicCorp' },
                { title: 'Art Exhibition', date: '2024-12-25', location: 'Kano', organizer: 'ArtSpace' },
                { title: 'Business Summit', date: '2025-01-10', location: 'Lagos', organizer: 'BizNet' },
                { title: 'Food Fair', date: '2025-01-15', location: 'Abuja', organizer: 'FoodHub' },
                { title: 'Sports Event', date: '2025-01-20', location: 'Lagos', organizer: 'SportsCorp' }
            ];

            const grid = document.getElementById('eventsGrid');
            grid.innerHTML = sampleEvents.map(event => `
                <div class="event-card">
                    <div class="event-image">▣</div>
                    <div class="event-content">
                        <h3 class="event-title">${event.title}</h3>
                        <div class="event-meta">
                            <div class="event-meta-item">▷ ${new Date(event.date).toLocaleDateString()}</div>
                            <div class="event-meta-item">◉ ${event.location}</div>
                            <div class="event-meta-item">◈ ${event.organizer}</div>
                        </div>
                        <a href="login.html" class="btn btn-primary">View Details</a>
                    </div>
                </div>
            `).join('');
        }

        // Theme toggle
        function toggleTheme() {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            
            document.documentElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
        }
        
        // Load saved theme
        function loadTheme() {
            const savedTheme = localStorage.getItem('theme') || 'light';
            document.documentElement.setAttribute('data-theme', savedTheme);
        }
        
        // Load theme on page load
        loadTheme();
        
        // Mobile menu toggle
        function toggleMobileMenu() {
            const navLinks = document.getElementById('navLinks');
            const menuToggle = document.getElementById('mobileMenuToggle');
            navLinks.classList.toggle('active');
            menuToggle.classList.toggle('active');
        }
        
        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth' });
                }
            });
        });
    </script>
</body>
</html>